(function(){"use strict";angular.module("app-persons").controller("personsController",["$scope","$http",function(n,t){n.persons=[];n.newPerson={};n.errorMessage="";n.isBusy=!0;n.addPerson=function(){n.isBusy=!0;t.post("/api/persons",n.newPerson).then(function(t){n.persons.push(t.data);n.newPerson={}},function(){n.errorMessage="Failed to save data"}).finally(function(){n.isBusy=!1})};t.get("/api/persons").then(function(t){angular.copy(t.data,n.persons)},function(){n.errorMessage="Failed to load data"}).finally(function(){n.isBusy=!1})}])})();